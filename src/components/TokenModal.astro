---
---

<div id="tokenModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
  <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[80vh] flex flex-col">
    <!-- Modal header -->
    <div class="flex justify-between items-center p-6 border-b">
      <h3 class="text-xl font-semibold text-indigo-700">Saved Tokens</h3>
      <button id="closeModal" class="text-gray-500 hover:text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- Modal body -->
    <div class="p-6 overflow-y-auto flex-grow">
      <div id="noSavedTokensModal" class="text-center py-8 text-gray-500">
        No saved tokens yet
      </div>

      <div id="savedTokensListModal" class="space-y-3">
        <!-- Saved tokens will be inserted here dynamically -->
      </div>
    </div>

    <!-- Modal footer -->
    <div class="border-t p-6 flex justify-end">
      <button id="clearAllTokens" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 text-sm">
        Clear All Tokens
      </button>
    </div>
  </div>
</div>

<!-- Floating button to open modal with badge -->
<div class="fixed bottom-6 right-6 z-10">
  <button id="openModalBtn" class="relative bg-indigo-600 text-white rounded-full p-3 shadow-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
    <!-- Token/Card icon -->
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" />
    </svg>

    <!-- Badge showing number of saved tokens -->
    <span id="tokenCountBadge" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 items-center justify-center hidden">0</span>
  </button>

  <!-- Tooltip -->
  <div class="absolute bottom-full right-0 mb-2 bg-gray-800 text-white text-xs rounded py-1 px-2 pointer-events-none opacity-0 transition-opacity duration-300 whitespace-nowrap" id="tokenButtonTooltip">
    View Saved Tokens
  </div>
</div>
